**AllerGuide: функциональные требования, архитектура и основные функции**
*Антипова наталья, Каримуллин Тимур, Цхай Александр*

---

**Функциональные требования**
	•	**Поиск блюд по названию**
	•	**Анализ ингредиентов с помощью NLP**
	•	**Выявление аллергенов в рецептах**
	•	**Разбиение статистики по регионам/кухням**
	•	**Выявление опасных ингредиентов**
	•	**Персонализация под аллергии пользователя**
	•	**Генерация подсказок для общения в ресторане**
	•	**Советы по безопасным альтернативам**
	•	**Оценка уверенности и ссылки на источники**
	•	**Ввод через фотографию**
	•	**Многоязычная поддержка интерфейса**
	•	**Мобильное и кроссплатформенное использование**

---

**Нефункциональные требования**  
	•	**Производительность**
	•	**Масштабируемость**
	•	**Точность и полнота данных**
	•	**Надежность и отказоустойчивость**
	•	**Безопасность и приватность**
	•	**Удобство использования (UX)**
	•	**Локализация и мультикультурность**
	•	**Прозрачность и объяснимость**
	•	**Масштабирование функциональности и поддержка**

---

**Пример сценария запроса** Пользователь в мобильном приложении вводит “Pad Thai” и указывает, что у него аллергия на арахис и моллюсков. Приложение отправляет запрос на бекенд. Бекенд обращается к модулю скрейпинга, который собирает, скажем, 15 рецептов Pad Thai (на тайском кулинарном сайте, на паре английских, на веган-блоге и т.д.). NLP-модуль парсит ингредиенты каждого: обнаруживает арахис, креветки, яйцо в большинстве тайских рецептов, веганский рецепт без них, но с тофу (соя). Аллергенная база сопоставляет: арахис -> аллергент “орехи”, креветки -> “ракообразные”, соевый соус -> “соя”, яйцо -> “яйца”. Модуль статистики считает: орехи в 12 из 15 рецептов (~80%), ракообразные в 10/15 (~67%), яйца в 8/15, соя в 3/15. Отдельно помечает, что 3 рецепта были помечены как “vegan” и ни в одном из них не было арахиса (0%) ни яиц (0%). Confidence высокий, т.к. источников >10. Эти данные передаются генератору. LLM формирует ответ на русском: “Pad Thai традиционно содержит арахис (примерно в 80% рецептов) и креветки (в ~65%). Вам, как аллергiku на арахис, стоит быть особенно внимательным: попросите приготовить без орехов. Фраза для официанта на тайском: …”. Также приложение отображает в UI инфографику: значок “орехи – 80%” (красным), “ракообразные – 65%” (желтым), “яйцо – 53%” (желтым), “соя – 20%” (зеленым), и галочку, что существует веган-вариант без этих аллергенов. Пользователь копирует фразу на тайском и показывает официанту; также, при желании, разворачивает список “ингредиенты, вызывающие опасения: crushed peanuts, peanut oil, shrimp, fish sauce (anchovy)” – которые были отмечены NLP. Все это реализовано сочетанием модулей, взаимодействующих как описано.  

---

**Архитектура MVP**  
  
**Общая схема:** архитектура основана на клиент-серверном подходе. Мобильное приложение служит интерфейсом для пользователя, а основная обработка происходит на серверной стороне (бекенде). Ниже описаны ключевые компоненты системы и их взаимодействие:  
	•	**Мобильный клиент (iOS/Android)**
	•	**API-шлюз и Backend-сервер**
	•	**Модуль сбора данных (Web Scraping)**
	•	**NLP-модуль обработки ингредиентов**
		Этот компонент на вход получает сырые списки ингредиентов из рецептов. Его задачи:  
	1.	Привести ингредиенты к стандартному виду
	2.	Распознать ключевые слова, соответствующие аллергенам, используя заранее сформированную **базу знаний об аллергенах**.
	3.	На основе этого прохода формируется список **найденных аллергенов для каждого рецепта**.
	4.	Дополнительно, NLP-модуль может пытаться определить страну/регион рецепта, если это не сделано на этапе сбора.
	•	**База знаний об аллергенах и ингредиентах**
		Например:  
	•	“Egg” allergen: [“egg”, “albumin”, “meringue”, …] – список слов, указывающих на яйца;  
	•	“Milk” allergen: [“milk”, “cream”, “whey”, “casein”, “cheese”, “масло сливочное”, …] и т.д.  
	•	**Модуль статистики и риск-оценки**
	•	**Модуль генерации ответов (LLM + RAG)**
	•	**База данных приложения**
	•	**Интеграции внешних сервисов**

---

**Основные фишки приложения**
	•	**Мгновенная оценка риска по аллергенам**
	•	**Адаптация под местную кухню**
	•	**“Подводные камни” в составе**
	•	**Личные настройки аллергии**
	•	**Разговорник для ресторана**
	•	**Альтернативы и рекомендации**
	•	**Прозрачность и доверие к данным**
	•	**Использование камеры для удобства**
	•	**Современные технологии под капотом**ИИ**. Например, большие языковые модели помогают переводить и составлять вежливые обращения на разных языках, а алгоритмы машинного обучения – извлекать смысл из текстов рецептов. Эти инновации делают приложение гибким и умным: оно постоянно учится на новых данных, становится точнее с каждым запросом. Для пользователя же все это прозрачно – вы просто получаете нужную информацию в удобной форме.  
